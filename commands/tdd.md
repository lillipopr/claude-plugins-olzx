---
name: tdd
description: 调用 TDD 专家，编写和执行单元测试/集成测试/端到端测试
---

# /tdd - TDD 测试专家命令

## 描述

调用 TDD 测试专家，编写和执行单元测试、集成测试、端到端测试。

## 使用方式

```bash
/tdd
```

## 场景选择

### 1. 编写单元测试

**前提条件**：已有代码实现

**输入**：代码文件路径或功能描述

**执行流程**：
1. 调用 `tdd-expert` Agent
2. 分析代码结构
3. 遵循 TDD 原则：
   - 先写测试（RED）
   - 实现代码（GREEN）
   - 重构优化（REFACTOR）
4. 确保覆盖率 80%+
5. 验证测试质量

**产出**：单元测试代码

### 2. 编写集成测试

**前提条件**：有接口定义或服务边界

**输入**：接口文档或服务描述

**执行流程**：
1. 调用 `tdd-expert` Agent
2. 设计集成测试场景
3. Mock 外部依赖
4. 编写集成测试用例
5. 验证接口契约

**产出**：集成测试代码

### 3. 编写端到端测试

**前提条件**：有用户流程定义

**输入**：用户流程描述

**执行流程**：
1. 调用 `tdd-expert` Agent
2. 设计 E2E 测试场景
3. 使用 Playwright 编写测试
4. 覆盖关键用户路径
5. 验证跨端协作

**产出**：E2E 测试代码

### 4. 执行测试

**输入**：测试类型或测试路径

**执行流程**：
1. 调用 `tdd-expert` Agent
2. 执行指定测试
3. 分析测试结果
4. 失败时提供修复建议
5. 生成测试报告

**产出**：测试执行报告

## TDD 工作流

```
RED（写测试）→ GREEN（实现）→ REFACTOR（重构）
     ↑                            |
     |____________________________|
           循环直到通过
```

## 质量标准

| 测试类型 | 覆盖率要求 | 验证重点 |
|----------|-----------|----------|
| 单元测试 | 80%+ | 业务逻辑、边界条件 |
| 集成测试 | 关键路径 100% | 接口契约、协作流程 |
| E2E 测试 | 核心流程 100% | 用户价值、跨端协作 |

## 相关文档

- [TDD 专家 Skill](../skills/for-tdd-expert/SKILL.md)
- [TDD 工作流](../skills/for-tdd-expert/references/sop/tdd-workflow.md)
- [测试模板](../skills/for-tdd-expert/references/templates/)

## 示例

```
用户: /tdd

Claude: 请选择场景：
1. 编写单元测试
2. 编写集成测试
3. 编写端到端测试
4. 执行测试

用户: 1

Claude: 请提供要测试的代码路径或功能描述...

[调用 tdd-expert Agent，遵循 TDD 工作流]
```
